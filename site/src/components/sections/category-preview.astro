---
import { Icon } from 'astro-icon/components';

interface CategoryProps {
  name: string;
  slug: string;
  featuredTool: string;
  icon: string;
  gradient: string;
  screenshot: string;
  isMain?: boolean;
  internal: boolean;
}

interface Props {
  category: CategoryProps;
  isMain?: boolean;
}

const { category, isMain = false } = Astro.props;
---

<div class={`category-preview ${isMain ? 'main-category' : ''}`}>
  <div class={`relative rounded-xl shadow-lg overflow-hidden transform transition duration-300 hover:shadow-xl ${isMain ? 'hover:scale-105' : 'hover:scale-102'}`}>
    <div class={`h-16 bg-gradient-to-r ${category.gradient}`}>
      <div class="flex items-center h-full px-4">
        <Icon name={category.icon} class="w-8 h-8 mr-3 text-white" />
        <h3 class={`font-bold text-white ${isMain ? 'text-xl' : 'text-lg'}`}>{category.name}</h3>
      </div>
    </div>
    <div class="bg-white p-4">
      <div class="relative">
        <img src={category.screenshot} alt={category.featuredTool} class={`w-full object-cover rounded-md mb-4 ${isMain ? 'h-64' : 'h-48'}`} />
        {category.internal && (
          <div class="absolute top-2 right-2 bg-green-500 text-white text-xs font-bold px-2 py-1 rounded-full shadow-md">
            社内製
          </div>
        )}
      </div>
      <p class="text-gray-700 font-medium mb-4">おすすめツール: {category.featuredTool}</p>
      <a href={`/category/${category.slug}`} class="inline-flex items-center text-blue-600 font-semibold transition duration-300 hover:text-blue-800">
        詳細を見る
        <Icon name="heroicons:arrow-right" class="w-5 h-5 ml-2 transform group-hover:translate-x-1 transition-transform" />
      </a>
    </div>
  </div>
</div>

<style>
  .category-preview {
    height: 100%;
  }
  
  .main-category {
    grid-column: span 2;
  }

  @media (max-width: 768px) {
    .main-category {
      grid-column: span 1;
    }
  }
</style>